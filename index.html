<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    
    <style>
       li{
        padding-bottom: 10px;
       }
    </style>
</head>
<body>
    Map: <input type="text" id="myText" value="">
    <button id="mapName">Get List Map</button>
    <section id="container"></section>
    
   
   <script>
    // include the ipc module to communicate with main process.
    const ipcRenderer = require('electron').ipcRenderer; 
    const fs = require('fs');
    var myData = JSON.parse(fs.readFileSync('dataWarp.json'));
    const ul=document.querySelector("ul")
    
    const btnClick2 = document.getElementById('mapName');
    const container = document.getElementById('container');
    
    btnClick2.addEventListener('click', function () {
        var myText=document.getElementById("myText").value
        container.innerHTML="";
        let h=Object.keys(myData[myText]);
        for(let i=0;i<h.length;i++){
            var btn = document.createElement("BUTTON");   // Create a <button> element
            btn.innerHTML = h[i];                   // Insert text
            btn.onclick=function(){
                var arg=myData[myText][h[i]];
                ipcRenderer.send("addListWarp",arg); 

            }
            container.appendChild(btn);               // Append <button> to <body>
        }

    });
    
    ipcRenderer.on("sendListWarp",(event,arg)=>{
        container.innerHTML="";
        let h=Object.keys(myData[myText]);
        for(let i=0;i<h.length;i++){
            var btn = document.createElement("BUTTON");   // Create a <button> element
            btn.innerHTML = h[i];                   // Insert text
            btn.onclick=function(){
                var arg=myData[myText][h[i]];
                ipcRenderer.send("addListWarp",arg); 

            }
            container.appendChild(btn);               // Append <button> to <body>
        }

    }); 

    
    </script>
    
</body>
</html>
